/* <details>
    <summary>License</summary>
    <p>Copyright (C) 2022 Bryan A. Jones.</p>
    <p>This file is part of the CodeChat Editor.</p>
    <p>The CodeChat Editor is free software: you can redistribute it and/or
        modify it under the terms of the GNU General Public License as
        published by the Free Software Foundation, either version 3 of the
        License, or (at your option) any later version.</p>
    <p>The CodeChat Editor is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
        General Public License for more details.</p>
    <p>You should have received a copy of the GNU General Public License
        along with the CodeChat Editor. If not, see <a
            href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.
    </p>
</details>
<h1><code>CodeChatEditor.css</code> &mdash; Styles for the CodeChat Editor
</h1>
<p>This stylesheet is used by the HTML generated by <a
        href="..\..\src\CodeChatEditor.mts">CodeChatEditor.mts</a>.</p>
<p>TODO: do a much better job of grouping common styles. Rename styles based
    on whether they style a code or doc block.</p>
<h2>Styles for the entire page layout</h2>
<p>This is used only to store a reused variable value. See the <a
        href="https://drafts.csswg.org/css-variables/">CSS docs</a>.</p> */
:root {
    --top-height: 6.7rem;
    --body-padding: 0.2rem;
}

/* <p>See <a href="https://css-tricks.com/box-sizing/">box sizing</a> for the
    following technique to use <code>border-box</code> sizing.</p> */
html {
    box-sizing: border-box;
}

*,
*:before,
*:after {
    box-sizing: inherit;
}

body {
    /* <p>For box model simplicity, switch the padding and margin.</p> */
    padding: var(--body-padding);
    margin: 0px;
    /* <p>The default of transparent makes VS Code's black show up and confuse
    everything. For now, make it white.</p> */
    background: white;
}

/* <p>Provide space at the top of the screen for the filename and TinyMCE menu
    bar.</p> */
#CodeChat-top {
    height: var(--top-height);
}

/* <p>The rest of the screen is the editor area.</p> */
#CodeChat-body {
    height: calc(100vh - var(--top-height) - 2 * var(--body-padding));
    overflow: auto;
}

/* <h2>Misc styling</h2>
<p>Mark a hotkey.</p> */
.CodeChat-hotkey {
    text-decoration: underline;
}

/* <p>Make the filename compact.</p> */
#CodeChat-filename p {
    margin: 0px;
    white-space: nowrap;
}

/* <h2>Code block styling</h2>
<p>Before the ACE Editor loads, use a monotype font.</p> */
.CodeChat-ACE {
    font-family: monospace;
    white-space: pre;
    width: 100%;
}

.CodeChat-code {
    /* <p>Use <a
        href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox">flexbox
        layout</a> to style code blocks. The goal of this layout is:</p>
<p>&lt;max line numbers spaces&gt; &lt;code&gt;</p>
<p>where the max line numbers spaces cause this code block's line numbers
    to line up with all other code block line numbering. For example, if
    this code block is lines 9-23 (which the Ace editor will treat as a
    two-digit line number), but the largest line is 453 (three digits),
    then we need to insert one extra space to correct for the extra digit
    when the line number is &gt; 99. A <code>&lt;div
        class="CodeChat-ACE-gutter"&gt;</code> implements this &lt;max
    line numbers spaces&gt; indent.</p> */
    display: flex;
}

/* <p>Style the max line numbers spaces element discussed above.</p> */
.CodeChat-ACE-gutter {
    font-family: monospace;
    white-space: pre;
    background-color: #f0f0f0;
    /* <p>Make the &lt;max line number spaces&gt; not expand or shrink, but take
    exactly the width required by the text (spaces) it contains. Defaults
    for the &lt;code&gt; element cause it to take the rest of the space
    on the line.</p> */
    flex: 0 0 auto;
}

/* <p>Hide the ACE Editor's cursor when it's inactive.</p> */
.ace_hidden-cursors {
    opacity: 0;
}

/* <h2>Doc block styling</h2> */
.CodeChat-doc {
    /* <p>Use flexbox layout to style doc blocks. The approach is similar to
    code blocks; the overall goal is:</p>
<p>&lt;max line number spaces&gt; &lt;padding to match the ACE editor&gt;
    &lt;doc block indent&gt; &lt;doc block contents&gt;</p>
<p>where:</p>
<ul>
    <li><code>&lt;div class="CodeChat-ACE-gutter-padding"&gt;</code>
        contains &lt;max line number spaces&gt;</li>
    <li><code>&lt;div class="CodeChat-ACE-padding"&gt;</code> contains
        &lt;padding to match the ACE editor&gt;</li>
    <li><code>&lt;div class="CodeChat-doc-indent"&gt;</code> contains
        &lt;doc block indent&gt;</li>
    <li><code>&lt;div class="CodeChat-TinyMCE"&gt;</code> contains the
        &lt;doc block contents&gt;</li>
</ul> */
    display: flex;
}

/* <p>Match the ACE Editor gutter for doc blocks.</p> */
.CodeChat-ACE-gutter-padding {
    padding-left: 33px;
    background-color: #f0f0f0;
    /* <p>Make this &lt;max line number spaces&gt; not expand or shrink, but
    take exactly the width required by the text (spaces) it contains.</p> */
    flex: 0 0 auto;
    font-family: monospace;
    white-space: pre;
}

/* <p>The ACE editor puts a bit of left padding in; match this so that code and
    doc blocks line up.</p> */
.CodeChat-ACE-padding {
    padding-left: 3px;
}

/* <p>Preserve whitespace in the indent of a doc block.</p> */
.CodeChat-doc-indent {
    /* <p>Make this &lt;doc block indent&gt; not expand or shrink, but take
    exactly the width required by the text (spaces) it contains.</p> */
    flex: 0 0 auto;
    white-space: pre;
    tab-size: 4;
}

/* <p>Remove the editor's border when it's selected, since this hides the cursor
    when the cursot is at the beginning of a line and isn't necessary (the
    entire screen is an editor, not just that region.)</p> */
.CodeChat-TinyMCE.mce-edit-focus {
    outline-width: 0px;
}

/* <h2>Combined code/doc block syling</h2>
<p><span id="remove-space">Remove space between a code block followed by a
        doc block. Doc block elements typically have top margin and/or
        padding that produce this undesired space; remove it on the first
        element in the doc block, the first element of the first element in
        the doc block, etc.</span></p> */
.CodeChat-TinyMCE > *:first-child,
.CodeChat-TinyMCE > *:first-child > *:first-child,
.CodeChat-TinyMCE > *:first-child > *:first-child > *:first-child,
.CodeChat-TinyMCE
    > *:first-child
    > *:first-child
    > *:first-child
    > *:first-child,
.CodeChat-TinyMCE
    > *:first-child
    > *:first-child
    > *:first-child
    > *:first-child
    > *:first-child {
    margin-top: 0px;
    padding-top: 0px;
}

/* <p><a href="remove-space">Remove space</a> between a doc block followed by a
    code block.</p> */
.CodeChat-TinyMCE > *:last-child,
.CodeChat-TinyMCE > *:last-child > *:last-child,
.CodeChat-TinyMCE > *:last-child > *:last-child > *:last-child,
.CodeChat-TinyMCE > *:last-child > *:last-child > *:last-child > *:last-child,
.CodeChat-TinyMCE
    > *:last-child
    > *:last-child
    > *:last-child
    > *:last-child
    > *:last-child {
    margin-bottom: 0px;
    padding-bottom: 0px;
}
